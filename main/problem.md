# B 题 药材的编排与自动调配

中医药是我国医药卫生事业的重要组成部分。中医师诊断患者疾病后开具处方，经中药房调剂后发给患者。除中成药外，一张中药处方通常包含 10-20 种药材。中药房存放药材的容器称为斗柜，一般为木制的组合柜。斗柜整齐地分为多个相同大小的药斗，每个药斗内按从外到内的顺序均分为三格，每格中放入一种药材。例如，一个俗称为“横七竖八”的药柜从上至下共有八排，从左至右共有七列，合计 56 个药斗。中药房通常有两到三组并排摆放的斗柜。不同药材在斗柜内的放置位置称为“斗谱”。斗谱编排既要考虑减轻劳动强度，提高配方速度，又要有利于减少差错。

调配，俗称抓药，是中药调剂的一个重要环节。传统中药调配完全由人工完成。中药调剂人员逐一捡取处方上的药材，混合包装后发放给患者。为简单起见，对处方上不同药材的拣选顺序不作特别要求。现在某单位尝试将该项工作交由机器人。机器人根据处方从各个药斗中准确地逐一取出相应的药材，所需时间主要由机械手移动的距离决定，不必担心有看错药名或拿错药材的情况。为适应中药调配由人到机的转变，进一步提高效率，试通过建立数学模型，完成以下问题。

**1. 假设斗柜中各种药材的编排已经确定。给定一张处方,机器人如何用最短的时间完成调配。附件给出了一种斗谱和两张处方,试给出机器人的拣选顺序。**

**2. 该单位搜集整理了近年来使用过的处方,并对每种药材加以编号。若对给定的一张处方,机器人总按药材编号的顺序、或总按处方上药材出现的顺序逐一拣取药材,如何编排斗柜中每种药材的位置。**

**3. 若斗柜中药材的位置确定后,机器人总能根据每张处方和药材在斗柜中的位置,选择耗时最短的调配方案,如何编排斗柜中每种药材的位置。**

**4. 如果允许你给机器人设计一种算法,在斗柜中药材的位置确定后,机器人按算法给定的顺序逐一拣取药材,是否能找到更好的斗柜编排方案。**


对第 2-4 问,可用下面的简化模型进行测试。斗柜分为 4 行 7 列共 28 个药斗,每个药斗中可填入一种“药材”,即 26 个英文字母、连词符、空格符等其他字符共 28 个字符之一。历年“处方”为《全国大学英语四、六级考试大纲(2016 年修订版)》(http://cet.neea.cn/html1/folder/16113/1588-1.htm)词表(第 16 页-第 144 页)中列出的 7969 个单词,单词中有相同字母的只计出现最早的一个,有两种拼法的单词任选其中一种拼法。
